# R Interactions

## Learning Objectives

In this chapter, you will learn how to:

- Include an interaction of two explanatory variables in a regression model

## Set-up

To complete this chapter, you need to

- Open a script
- Load the following packages

```{r, eval=FALSE}
library(tidyverse)
library(moderndive)
library(carData)
```

We will use the `Salaries` dataset within the `carData` package. Be sure to view the documentation for these data in the Help tab of the bottom-right pane by typing the name of the dataset in the search bar.

## Including an interaction

Though we only cover interacting a numerical variable with a categorical variable in this course, we can interact two variables of any type using the same code. In theory, we can interact more than two variables. In any case, an interaction requires us to multiply the variables within the `lm` function.

Recall the regression model from Chapter \@ref(categorical-variables-and-interactions) where `mrall` is traffic fatality rate, `vmiles` is the average miles driven, and `jaild` is whether a state imposes mandatory jail for drunk driving.

\begin{equation}
mrall = \beta_0 + \beta_1 vmiles + \beta_2 jaild + \beta_3 vmiles \times jaild + \epsilon
\end{equation}

We can run this regression using the following code

```{r, results='hide'}
interactmod <- lm(mrall ~ vmiles + jaild + vmiles*jaild, data = trdeath)
```

Note that the only difference from the code in the previous chapter is `vmiles*jaild`, which tells R to interact the two variables. Once again, the code reflects the equation.

We can obtain the results of this regression using the functions we learned in the previous chapter.

```{r, eval=FALSE}
get_regression_table(interactmod)
```

```{r, echo=FALSE}
get_regression_table(interactmod) %>% 
  kable(format = 'html')
```

```{block, type='learncheck', purl=FALSE}
**Exercise 1:** Suppose we want to use the `Salaries` dataset to examine whether professor salary is associated with their sex and how long they have worked at the institution. Furthermore, suppose we theorize that the association between salary and how long they have worked at the insitution differs by sex, thus requiring an interaction. Therefore, we have the following model.

\begin{equation}
salary = \beta_0 + \beta_1sex + \beta_2yrs.service + \beta_3 sex \times yrs.service + \epsilon
\end{equation}

Run this regression model and obtain the results.
```

## Submit

Please save your script using your last name and submit to eLC. Once you submit, answers will become available for download.